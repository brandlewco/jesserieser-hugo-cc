<section id="project-next" class="mt-12 mb-4 px-4 sm:px-10 lg:px-16 xl:px-32">
    <nav>
    <ul class="mx-auto flex flex-row justify-between items-end sm:items-stretch">
    <!-- RUN RANGE JUST FOR LAST ITEM IN COLLECTION TO COMPLETE PAGER LOOP -->
    {{ $currentPage := .Permalink }}
    {{ range .Site.Data.config }}
    {{ range last 1 .collection_pager}}
    {{ with $.Site.GetPage . }} 
    <li class="hidden first">
    <a href="{{ .RelPermalink }}" alt="{{ .Title }}" style="max-width: 45vw;">
        <div class="block sm:hidden font-semibold mobile"></div>
        <div class="hidden sm:flex flex-row text-left items-center">
            <div class="arrow text-2xl font-thin pr-4">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="25" height="25" viewBox="0 0 256 150" style="transform: rotate(90deg);">
                    <path d="M242.4 4.5L255.6 17.8 128 145.5 0.4 17.8 13.6 4.5 128 118.9z" style="fill:#000;"class="arrow-down"/>
                </svg>
            </div>
            <div class="pager-title">
                <div class="text-sm block uppercase tracking-looser">
                    {{ $collectionSorterPage := .Site.GetPage "collections/_index.md" }}
                    {{ $currentPage := . }}
                    {{ $currentPagePath := printf "collections/%s.md" $currentPage.File.BaseFileName }}
                    {{ if in $collectionSorterPage.Params.collection_sorter $currentPagePath }}Archive: {{end}}{{ .Title }}
                </div>
                <div class="text-xs block font-normal font-base leading-relaxed text-left ">
                    {{.Params.collection_meta | truncate 45 }}
                </div>
            </div>
        </div>
    </a>
    </li>
    {{ end }}
    {{ end }}
    {{ end }}

    <!-- RUN OF CURRENT COLLECTION  -->
    {{ $currentPage := .Permalink }}
    {{ range .Site.Data.config }}
    {{ range .collection_pager}}
    {{ with $.Site.GetPage . }} 
    {{ if eq $currentPage .Permalink }}
    <li class="sm:hidden" id="current">
        <a href="{{ .RelPermalink }}" alt="{{ .Title }}" class="hidden">{{ .Title }}</a>
    </li>
    {{else}}
    <li class="hidden">
    <a href="{{ .RelPermalink }}" alt="{{ .Title }}" style="max-width: 45vw;">
        <div class="block sm:hidden text-sm uppercase tracking-loose mobile"></div>
        <div class="hidden sm:flex flex-row text-left items-center">
            <div class="arrow text-2xl font-thin pr-4">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="25" height="25" viewBox="0 0 256 150" style="transform: rotate(90deg);">
                    <path d="M242.4 4.5L255.6 17.8 128 145.5 0.4 17.8 13.6 4.5 128 118.9z" style="fill:#000;"class="arrow-down"/>
                </svg>
            </div>
            <div class="pager-title">
                <div class="text-sm block uppercase tracking-looser">
                    {{ $collectionSorterPage := .Site.GetPage "collections/_index.md" }}
                    {{ $currentPage := . }}
                    {{ $currentPagePath := printf "collections/%s.md" $currentPage.File.BaseFileName }}
                    {{ if in $collectionSorterPage.Params.collection_sorter $currentPagePath }}Archive: {{end}}{{ .Title }}
                </div>
                <div class="text-xs block font-normal font-base leading-relaxed text-left ">
                    {{.Params.collection_meta | truncate 45 }}
                </div>
            </div>
        </div>
    </a>
    </li>
    {{ end }}
    {{ end }}
    {{ end }}
    {{ end }}

    <!-- RUN RANGE JUST FOR FIRST ITEM IN COLLECTION TO COMPLETE PAGER LOOP -->
    {{ $currentPage := .Permalink }}
    {{ range .Site.Data.config }}
    {{ range first 1 .collection_pager}}
    {{ with $.Site.GetPage . }} 
    <li class="hidden">
    <a href="{{ .RelPermalink }}" alt="{{ .Title }}" style="max-width: 45vw;">
        <div class="block sm:hidden text-sm uppercase tracking-loose mobile"></div>
        <div class="hidden sm:flex flex-row text-left items-center">
            <div class="arrow text-2xl font-thin pr-4">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid" width="25" height="25" viewBox="0 0 256 150" style="transform: rotate(90deg);">
                    <path d="M242.4 4.5L255.6 17.8 128 145.5 0.4 17.8 13.6 4.5 128 118.9z" style="fill:#000;" class="arrow-down"/>
                </svg>
            </div>
            <div class="pager-title">
                <div class="text-sm block tracking-looser">
                    {{ $collectionSorterPage := .Site.GetPage "collections/_index.md" }}
                    {{ $currentPage := . }}
                    {{ $currentPagePath := printf "collections/%s.md" $currentPage.File.BaseFileName }}
                    {{ if in $collectionSorterPage.Params.collection_sorter $currentPagePath }}Archive: {{end}}{{ .Title }}
                </div>
                <div class="text-xs  block font-normal font-base leading-relaxed text-left" style="max-width: 50vw;">
                    {{.Params.collection_meta | truncate 45 }}
                </div>
            </div>
        </div>
    </a>
    </li>
    {{ end }}
    {{ end }}
    {{ end }}
    </ul>
    </nav>
</section>